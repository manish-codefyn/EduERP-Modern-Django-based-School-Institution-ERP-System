<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
@page {
    size: letter portrait;
    @frame header_frame {
        -pdf-frame-content: header_content;
        left: 10pt; width: 592pt; top: 2pt; height: 50pt;
    }
    @frame content_frame {
        left: 10pt; width: 592pt; top: 2pt; height: 660pt;
    }
    @frame footer_frame {
        -pdf-frame-content: footer_content;
        left: 10pt; width: 592pt; top: 750pt; height: 20pt;
    }
}

body { 
    font-family: Arial, sans-serif; 
    font-size: 12px; 
    line-height: 1.6; 
    margin: 0;
    padding: 0;
}
.container { padding: 10px; }

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
}
.teacher-photo {
    width: 120px;
    height: 120px;
    border: 1px solid #ddd;
    display: flex;
    align-items: center;
    justify-content: center;
}
.section-title {
    background-color: #f2f2f2;
    padding: 5px;
    font-weight: bold;
    margin-top: 15px;
    border: 1px solid #ddd;
}
.info-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
}
.info-table td {
    padding: 5px;
    vertical-align: top;
    border-bottom: 1px solid #f5f5f5;
}
.info-label { font-weight: bold; width: 30%; }
.footer {
    text-align: center;
    font-size: 10px;
    color: #666;
    margin-top: 20px;
    border-top: 1px solid #ddd;
    padding-top: 5px;
}
</style>
</head>
<body>
<div class="container">

    <!-- Header Section -->
    <div class="header">
       <table border="1" cellspacing="0" cellpadding="8" style="font-size:12px;">
        <tr>
            <td width="20%" align="center">
                {% if photo %}
                <img src="{{ photo }}" class="teacher-photo" alt="Teacher Photo" width="100" height="100">
                {% endif %}
            </td>
            <td width="60%" style="text-align: center;">
                {% if logo %}
                    <img src="{{ logo }}" alt="logo" width="210"><br>
                {% endif %}
                <strong>{{ organization.name }}</strong><br>
                {% if organization.email %}Email: {{ organization.email }}{% endif %}
                {% if organization.email and organization.mobile %} | {% endif %}
                {% if organization.mobile %}Mobile: {{ organization.mobile }}{% endif %}<br>
                {{ organization.address }}
            </td>
            <td width="20%" align="center">
                {% if qr_code %}
                <img src="{{ qr_code }}" style="max-width:100%; height:auto;" alt="QR Code">
                {% endif %}
            </td>
        </tr>
    </table>
    </div>

    <h2 style="text-align:center; margin-bottom:20px;">Teacher Detail</h2>

        <!-- Personal Information -->
        <div class="section-title">Personal Information</div>
        <table class="info-table">
            <tr><td class="info-label">Full Name:</td><td>{{ teacher.full_name }}</td></tr>
            <tr><td class="info-label">Employee ID:</td><td>{{ teacher.employee_id }}</td></tr>
            <tr><td class="info-label">Gender:</td><td>{{ teacher.gender }}</td></tr>
            <tr><td class="info-label">D.O.B:</td><td>{{ teacher.dob|date:"F j, Y"|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Joining Date:</td><td>{{ teacher.joining_date|date:"F j, Y"|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Blood Group:</td><td>{{ teacher.blood_group|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Email:</td><td>{{ teacher.email|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Mobile:</td><td>{{ teacher.mobile|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Emergency Contact:</td><td>{{ teacher.emergency_contact|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Address:</td><td>{{ teacher.address|default:"Not specified" }}</td></tr>
        </table>

        <!-- Professional Information -->
        <div class="section-title">Professional Information</div>
        <table class="info-table">
            <tr><td class="info-label">Qualification:</td><td>{{ teacher.get_qualification_display|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Specialization:</td><td>{{ teacher.specialization|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Experience:</td><td>{{ teacher.get_teaching_experience }} years</td></tr>
            <tr><td class="info-label">Salary:</td><td>${{ teacher.salary|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Department:</td><td>{{ teacher.department|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Designation:</td><td>{{ teacher.get_designation_display|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Faculty Type:</td><td>{{ teacher.faculty_type|default:"Not specified" }}</td></tr>
            <tr><td class="info-label">Class Teacher:</td><td>{{ teacher.is_class_teacher|yesno:"Yes,No" }}</td></tr>
            {% if teacher.class_teacher_of %}
            <tr><td class="info-label">Class:</td><td>{{ teacher.class_teacher_of.name }}</td></tr>
            {% endif %}
            <tr><td class="info-label">Subjects:</td><td>{{ teacher.get_subjects_list }}</td></tr>
        </table>

            

    <!-- Subjects -->
    <div class="section-title">Subjects</div>
    <table class="info-table">
        <tr>
            <td>
                <ul>
                    {% for subject in teacher.subjects.all %}
                        <li>{{ subject.name }}</li>
                    {% empty %}
                        <li>No subjects assigned</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
    </table>

    <!-- Institution -->
    <div class="section-title">Institution</div>
    <table class="info-table">
        <tr><td class="info-label">Name:</td><td>{{ organization.name }}</td></tr>
        <tr><td class="info-label">Address:</td><td>{{ organization.address|default:"Not specified" }}</td></tr>
    </table>

    <!-- Footer -->
    <div class="footer">
        Generated on {{ export_date }} | Page <pdf:pagenumber> of <pdf:pagecount>
    </div>

</div>
</body>
</html>
