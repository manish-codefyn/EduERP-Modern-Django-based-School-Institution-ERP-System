# Generated by Django 4.2.7 on 2025-09-25 10:41

from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('hr', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Institution',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('short_name', models.CharField(blank=True, max_length=50, null=True)),
                ('slug', models.SlugField(unique=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('type', models.CharField(choices=[('school', 'School'), ('college', 'College'), ('university', 'University'), ('institute', 'Institute'), ('training_center', 'Training Center')], default='school', max_length=20)),
                ('address', models.TextField()),
                ('city', models.CharField(blank=True, max_length=100, null=True)),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('country', models.CharField(default='India', max_length=100)),
                ('pincode', models.CharField(blank=True, max_length=10, null=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('contact_email', models.EmailField(max_length=254)),
                ('contact_phone', models.CharField(max_length=20)),
                ('alternate_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='institution_logos/')),
                ('stamp', models.ImageField(blank=True, null=True, upload_to='institution_stamps/')),
                ('favicon', models.ImageField(blank=True, null=True, upload_to='institution_favicon/')),
                ('banner', models.ImageField(blank=True, null=True, upload_to='institution_banners/')),
                ('primary_color', models.CharField(default='#0D47A1', help_text='Primary color (e.g., #0D47A1)', max_length=7)),
                ('secondary_color', models.CharField(default='#1976D2', help_text='Secondary color (e.g., #1976D2)', max_length=7)),
                ('accent_color', models.CharField(default='#42A5F5', help_text='Accent color (e.g., #42A5F5)', max_length=7)),
                ('text_dark_color', models.CharField(default='#212121', help_text='Dark text color (e.g., #212121)', max_length=7)),
                ('text_light_color', models.CharField(default='#FFFFFF', help_text='Light text color (e.g., #FFFFFF)', max_length=7)),
                ('text_muted_color', models.CharField(default='#757575', help_text='Muted text color (e.g., #757575)', max_length=7)),
                ('academic_year_start', models.DateField(blank=True, null=True)),
                ('academic_year_end', models.DateField(blank=True, null=True)),
                ('timezone', models.CharField(default='UTC', max_length=50)),
                ('fiscal_year_start', models.DateField()),
                ('language', models.CharField(default='English', max_length=50)),
                ('currency', models.CharField(default='INR', max_length=10)),
                ('is_active', models.BooleanField(default=True)),
                ('established_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'organization_institution',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Partnership',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('partner_name', models.CharField(max_length=255)),
                ('partner_type', models.CharField(choices=[('industry', 'Industry'), ('ngo', 'NGO'), ('government', 'Government'), ('foreign_university', 'Foreign University'), ('research_institute', 'Research Institute'), ('other', 'Other')], default='other', max_length=50)),
                ('description', models.TextField(blank=True, null=True)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('document', models.FileField(blank=True, null=True, upload_to='partnership_docs/')),
                ('contact_person', models.CharField(blank=True, max_length=255, null=True)),
                ('contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('contact_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('renewal_required', models.BooleanField(default=False)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='partnerships', to='organization.institution')),
            ],
            options={
                'db_table': 'organization_partnership',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='InstitutionCompliance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('gst_number', models.CharField(blank=True, max_length=20, null=True)),
                ('pan_number', models.CharField(blank=True, max_length=20, null=True)),
                ('tan_number', models.CharField(blank=True, max_length=20, null=True)),
                ('registration_no', models.CharField(blank=True, max_length=100, null=True)),
                ('registration_authority', models.CharField(blank=True, max_length=255, null=True)),
                ('registration_date', models.DateField(blank=True, null=True)),
                ('pf_registration_no', models.CharField(blank=True, max_length=50, null=True)),
                ('esi_registration_no', models.CharField(blank=True, max_length=50, null=True)),
                ('udise_code', models.CharField(blank=True, max_length=20, null=True)),
                ('aicte_code', models.CharField(blank=True, max_length=20, null=True)),
                ('ugc_code', models.CharField(blank=True, max_length=20, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('institution', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='compliance', to='organization.institution')),
            ],
            options={
                'db_table': 'organization_institution_compliance',
            },
        ),
        migrations.CreateModel(
            name='Affiliation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('code', models.CharField(blank=True, max_length=50, null=True)),
                ('valid_from', models.DateField(blank=True, null=True)),
                ('valid_to', models.DateField(blank=True, null=True)),
                ('document', models.FileField(blank=True, null=True, upload_to='affiliation_docs/')),
                ('is_active', models.BooleanField(default=True)),
                ('renewal_required', models.BooleanField(default=False)),
                ('renewal_notice_period', models.PositiveIntegerField(default=90, help_text='Days before expiry to send renewal notice')),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='affiliations', to='organization.institution')),
            ],
            options={
                'db_table': 'organization_affiliation',
                'ordering': ['-valid_from'],
            },
        ),
        migrations.CreateModel(
            name='Accreditation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('grade_or_level', models.CharField(blank=True, max_length=100, null=True)),
                ('awarded_by', models.CharField(blank=True, max_length=255, null=True)),
                ('valid_from', models.DateField(blank=True, null=True)),
                ('valid_to', models.DateField(blank=True, null=True)),
                ('certificate', models.FileField(blank=True, null=True, upload_to='accreditation_certs/')),
                ('is_active', models.BooleanField(default=True)),
                ('renewal_required', models.BooleanField(default=False)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='accreditations', to='organization.institution')),
            ],
            options={
                'db_table': 'organization_accreditation',
                'ordering': ['-valid_from'],
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('code', models.CharField(max_length=20)),
                ('short_name', models.CharField(blank=True, max_length=50, null=True)),
                ('department_type', models.CharField(choices=[('academic', 'Academic'), ('administrative', 'Administrative'), ('support', 'Support'), ('research', 'Research')], default='academic', max_length=20)),
                ('description', models.TextField(blank=True, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone', models.CharField(blank=True, max_length=20, null=True)),
                ('office_location', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('established_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('head_of_department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='headed_departments', to='hr.faculty')),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='departments', to='organization.institution')),
            ],
            options={
                'db_table': 'organization_department',
                'ordering': ['name'],
                'unique_together': {('institution', 'code')},
            },
        ),
        migrations.CreateModel(
            name='Branch',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('code', models.CharField(max_length=20)),
                ('is_main_campus', models.BooleanField(default=False)),
                ('address', models.TextField()),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(max_length=100)),
                ('country', models.CharField(default='India', max_length=100)),
                ('pincode', models.CharField(max_length=10)),
                ('contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('contact_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('established_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('branch_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_branches', to='hr.staff')),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='branches', to='organization.institution')),
            ],
            options={
                'verbose_name_plural': 'Branches',
                'db_table': 'organization_branch',
                'ordering': ['name'],
                'unique_together': {('institution', 'code')},
            },
        ),
    ]
